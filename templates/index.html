<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DigitITBot - Free AI Assistant for ITIL, ITSM, ServiceNow & Cloud</title>

  <!-- ‚úÖ SEO Meta Tags -->
  <meta name="description" content="DigitITBot is your AI-powered IT assistant for ITIL, ServiceNow, Cloud Infrastructure, Networking, and DevOps. Ask IT questions and get instant answers with trusted references.">
  <meta name="keywords" content="DigitITBot, ITIL, ITSM, ServiceNow, Cloud Infrastructure, DevOps, AI Assistant for IT, Hybrid Infrastructure, Networking Support, IT Chatbot">
  <meta name="author" content="Ritesh Fernandes">

  <!-- ‚úÖ Open Graph for Social Sharing -->
  <meta property="og:title" content="DigitITBot - Your AI Assistant for ITIL, Cloud & ServiceNow">
  <meta property="og:description" content="Get ITIL, ServiceNow, Cloud, Networking & DevOps support with DigitITBot, your free AI-powered IT assistant.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://digititbot.onrender.com">
  <meta property="og:image" content="https://digititbot.onrender.com/static/digititbot-banner.png">

  <!-- ‚úÖ Google Search Console Verification -->
  <meta name="google-site-verification" content="YOUR_GOOGLE_VERIFICATION_CODE_HERE" />

  <!-- ‚úÖ Structured Data for Google -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "DigitITBot",
    "url": "https://digititbot.onrender.com",
    "applicationCategory": "AI Assistant",
    "description": "DigitITBot is a free AI-powered assistant for ITIL, ITSM, ServiceNow, Cloud, and DevOps.",
    "author": {
      "@type": "Person",
      "name": "Ritesh Fernandes"
    },
    "operatingSystem": "Web",
    "softwareVersion": "3.0.0"
  }
  </script>

  <link rel="stylesheet" href="/static/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>üí¨ DigitITBot - Your Free AI IT Assistant</h1>
    <p class="subtitle">Get instant help with ITIL, ServiceNow, Cloud Infrastructure, Networking, and DevOps.</p>

    <!-- Name Input -->
    <form id="name-form">
      <label for="name">üë§ Enter Your Full Name:</label>
      <input type="text" id="name" placeholder="e.g., Ritesh Fernandes" />
      <button type="submit">Save</button>
      <button type="button" class="toggle-theme" id="theme-toggle">üåì Toggle Theme</button>
    </form>

    <!-- Programming Language Filter -->
    <form id="language-form">
      <label for="language">üåê Programming Language:</label>
      <select id="language">
        <option value="All">All</option>
        <option value="Python">Python</option>
        <option value="JavaScript">JavaScript</option>
        <option value="Java">Java</option>
        <option value="C++">C++</option>
        <option value="HTML/CSS">HTML/CSS</option>
      </select>
    </form>

    <!-- SEO Content Section -->
    <section>
      <h2>Why Choose DigitITBot?</h2>
      <p>DigitITBot is designed to empower IT professionals with:</p>
      <ul>
        <li>‚úî Quick answers to ITIL, ITSM, and ServiceNow questions</li>
        <li>‚úî Trusted references and hyperlinks for deeper learning</li>
        <li>‚úî Support for Cloud, Hybrid Infrastructure, and Networking</li>
        <li>‚úî AI-powered coding assistance in Python, Java, and more</li>
      </ul>
    </section>

    <!-- Chat Box -->
    <div class="chat-box" id="chat-box"></div>
    <p id="typing"></p>

    <!-- Message Input -->
    <form id="chat-form">
      <input type="text" id="message" placeholder="Ask an IT question..." autocomplete="off"/>
      <button type="submit">Send</button>
    </form>
  </div>

  <script>
    const chatBox = document.getElementById("chat-box");
    const chatForm = document.getElementById("chat-form");
    const messageInput = document.getElementById("message");
    const nameInput = document.getElementById("name");
    const nameForm = document.getElementById("name-form");
    const languageSelect = document.getElementById("language");
    const typingIndicator = document.getElementById("typing");

    if (localStorage.getItem("theme") === "dark") {
      document.body.classList.add("dark");
    }

    document.getElementById("theme-toggle").onclick = () => {
      document.body.classList.toggle("dark");
      localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
    };

    nameInput.value = localStorage.getItem("userName") || "";

    nameForm.addEventListener("submit", (e) => {
      e.preventDefault();
      localStorage.setItem("userName", nameInput.value);
      alert("Name saved!");
    });

    chatForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const message = messageInput.value.trim();
      if (!message) return;

      const userName = nameInput.value || "User";
      const language = languageSelect.value;

      appendMessage("user", userName, message);
      messageInput.value = "";
      typingIndicator.textContent = "ü§ñ DigitITBot is typing...";

      try {
        const response = await fetch("https://digititbot.onrender.com/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message, name: userName, language })
        });

        if (!response.ok) throw new Error("Server error");

        const result = await response.json();
        finalizeMarkdown("bot", "DigitITBot", result.response);

      } catch (err) {
        appendMessage("bot", "DigitITBot", "‚ö†Ô∏è Error: Could not connect to DigitITBot.");
      } finally {
        typingIndicator.textContent = "";
      }
    });

    function appendMessage(sender, name, text) {
      const msg = document.createElement("div");
      msg.classList.add(sender === "user" ? "user-bubble" : "bot-bubble");
      msg.innerHTML = `<strong>${sender === "user" ? "üë§" : "ü§ñ"} ${name}:</strong> ${text}`;
      chatBox.appendChild(msg);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function finalizeMarkdown(sender, name, fullMarkdown) {
      const msg = document.createElement("div");
      msg.classList.add("bot-bubble");
      msg.innerHTML = `<strong>ü§ñ ${name}:</strong><br>${marked.parse(fullMarkdown)}`;
      chatBox.appendChild(msg);
      chatBox.scrollTop = chatBox.scrollHeight;
    }
  </script>
</body>
</html>
